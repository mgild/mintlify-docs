---
title: Understanding Density Orders
description: 'Learn how market makers use spread, range, gamma, and skew to shape liquidity — with an interactive playground'
---

# Market Maker Curve Playground

This interactive playground lets you design **two-sided liquidity curves** using the parameters market makers actually think about. See how spread, range, gamma, and skew affect your bid and ask distributions in real-time.

<div id="curve-playground"></div>

---

## How Market Makers Think

Before diving into the controls, let's understand the core problem market makers solve: **providing liquidity profitably while managing risk**.

A market maker continuously quotes both a **bid** (price to buy) and an **ask** (price to sell). The goal is to:
1. Capture the spread between bid and ask as profit
2. Avoid holding too much inventory in either direction
3. Not get "picked off" by informed traders who know price is about to move

Every parameter in this playground addresses one of these concerns.

---

## The Five Parameters

### 1. Spread — Your Profit Margin

**What it is:** The gap between your best bid and best ask, measured in basis points (bps) from the mid price.

**How MMs think about it:**
- Spread is your **compensation for providing liquidity**
- Each round-trip (buy then sell) earns you roughly the spread
- Tighter spread = more competitive = more fills, but less profit per fill
- Wider spread = less competitive = fewer fills, but more profit per fill

**The key tradeoff:** You want the tightest spread you can safely quote given current conditions.

| Condition | Spread Response |
|-----------|-----------------|
| Low volatility | Tighten spread (safe to be aggressive) |
| High volatility | Widen spread (protect against adverse selection) |
| High competition | Tighten spread (or lose flow to others) |
| Illiquid market | Widen spread (compensation for risk) |

**Adverse selection** is your enemy: if informed traders know price is about to move, they'll pick off your stale quotes. Wider spreads give you a buffer.

**In Braid:** Spread determines the gap from mid price to where your bid's `p_max` and ask's `p_min` begin.

---

### 2. Range — Your Price Coverage

**What it is:** How far your liquidity extends beyond the spread edge, as a percentage of price.

**How MMs think about it:**
- Range defines **how much price movement you can absorb** before being "out of range"
- Wider range = more scenarios covered, but liquidity is diluted across more prices
- Narrower range = concentrated liquidity, but you'll need to rebalance if price moves

**The key tradeoff:** Range is tied to your **rebalancing frequency**.

| Strategy | Range | Rebalancing |
|----------|-------|-------------|
| High-frequency MM | 1-3% | Continuous |
| Active MM | 5-10% | Hourly/daily |
| Passive LP | 20-50% | Weekly/never |

If you set a narrow range and price moves outside it, you stop earning fees until you reposition. If you set a wide range, your liquidity is spread thin and you earn less per dollar deployed at any given price.

**In Braid:** Range determines the distance from your spread edge to your bid's `p_min` and ask's `p_max`.

---

### 3. Gamma — Your Liquidity Shape

**What it is:** How your liquidity is distributed within your range. Also called "exponent" in the on-chain parameters.

**How MMs think about it:**

Gamma answers the question: *"Where do I want my fills to happen?"*

| Gamma | Distribution | You're saying... |
|-------|--------------|------------------|
| **Negative** (-5 to 0) | Front-loaded (near spread) | "I want to trade frequently at current prices" |
| **Zero** | Uniform (flat) | "I have no strong view, spread it evenly" |
| **Positive** (0 to +5) | Back-loaded (at edges) | "I only want to trade on significant moves" |

<div id="gamma-demo"></div>

**When to use each:**

**Negative gamma (front-loaded):**
- Low volatility environments — price oscillates near current level
- Mean-reversion strategies — expect price to bounce back
- Maximizing fill rate — you want to trade frequently
- Risk: repeated fills on wrong side if price trends

**Zero gamma (uniform):**
- Uncertain markets — no strong directional or volatility view
- Baseline strategy — simple and predictable
- Fair comparison — use as benchmark for other strategies

**Positive gamma (back-loaded):**
- High volatility expected — only trade on big moves
- Trend-following mindset — let small moves pass, catch big ones
- Protection from chop — avoid getting whipsawed
- Risk: may miss profitable trades if price stays rangebound

**In Braid:** Gamma maps to the `exponent` parameter, scaled by 1000. So gamma 1.5 becomes exponent 1500 on-chain.

---

### 4. Skew — Your Inventory Management

**What it is:** Asymmetry between your bid and ask sides, ranging from -1 to +1.

**How MMs think about it:**

Skew is your primary tool for **managing inventory risk**. As you accumulate a position, you adjust skew to work back toward neutral.

**The core principle:** Skew is inversely related to your inventory position.

| Your Position | Skew | Effect |
|---------------|------|--------|
| **Long** (holding too much) | Negative (-) | More depth + amplified gamma on asks |
| **Neutral** (balanced) | Zero (0) | Symmetric bid and ask |
| **Short** (need to buy) | Positive (+) | More depth + amplified gamma on bids |

**How skew affects your orders:**

Skew does two things:
1. **Redistributes depth** — more size on the side you want fills
2. **Amplifies gamma** — intensifies your chosen curve shape on that side

**The formulas:**
```
askGamma = baseGamma × (1 - skew)
bidGamma = baseGamma × (1 + skew)

askDepth = baseDepth × (1 - skew)
bidDepth = baseDepth × (1 + skew)
```

**Important:** Skew amplifies gamma magnitude, it doesn't change the direction. The effect depends on your base gamma:

| Base Gamma | With Negative Skew (Long) | Strategy |
|------------|---------------------------|----------|
| **Negative** (front-loaded) | Asks become *more* front-loaded | Defensive: sell quickly at current prices |
| **Zero** (uniform) | No shape change, only depth | Neutral: let depth do the work |
| **Positive** (back-loaded) | Asks become *more* back-loaded | Opportunistic: sell only on up-moves |

**Example with skew = -0.4 (you're long):**
- Ask depth: base × 1.4 (40% more size to sell)
- Bid depth: base × 0.6 (40% less size to buy)
- Ask gamma: base × 1.4 (amplified shape)
- Bid gamma: base × 0.6 (dampened shape)

**Choosing your strategy:**

When you're long and want to reduce inventory, combine gamma + skew:

| Goal | Gamma | Skew | Result |
|------|-------|------|--------|
| Sell fast at current prices | Negative | Negative | Front-loaded asks with more depth |
| Sell only on significant up-moves | Positive | Negative | Back-loaded asks with more depth |
| Balanced approach | Zero | Negative | Uniform asks with more depth |

**In Braid:** Skew is applied at the SDK level. On-chain, you submit separate bid and ask orders with their computed gamma and amount values.

---

### 5. Depth — Your Capital Deployment

**What it is:** The total liquidity amount you're providing (shown as a multiplier in the playground).

**How MMs think about it:**
- More depth = more potential profit, but more inventory risk
- Depth should be sized to your:
  - **Capital**: Don't overextend
  - **Turnover**: How quickly can you cycle inventory?
  - **Correlation**: Does this position hedge or compound other exposures?

The playground shows depth as a **multiplier** after skew is applied. With skew = -0.4:
- Bid depth: 0.60× (60% of your base amount)
- Ask depth: 1.40× (140% of your base amount)

Your total capital deployed stays roughly constant; skew just redistributes it between sides.

**In Braid:** Depth maps to the `amount` parameter for each order.

---

## Understanding the Visualization

### What You're Looking At

| Element | Meaning |
|---------|---------|
| **White dashed line** (center) | Mid price — your reference point |
| **Green curve** (left of spread) | Bid orders — where you're buying |
| **Red curve** (right of spread) | Ask orders — where you're selling |
| **Gray zone** (center) | Spread — the gap between bid and ask |
| **Y-axis height** | Liquidity density at each price |
| **Area under curve** | Total depth on that side |

### Key Observations

1. **Area represents depth**: The total area under each curve represents how much liquidity is on that side. Skew changes the relative areas.

2. **Shape represents gamma**: The curve shape shows where fills will concentrate. Front-loaded (negative gamma) means more fills near the spread.

3. **Spread is dead zone**: No liquidity in the spread zone — that's your profit margin.

---

## Real-World Examples

### Example 1: Neutral Market Maker

*"I want symmetric, competitive quotes in a calm market."*

| Parameter | Value | Reasoning |
|-----------|-------|-----------|
| Spread | 30 bps | Competitive but profitable |
| Range | 5% | Will rebalance if price moves significantly |
| Gamma | -1.0 | Front-load to maximize fill rate |
| Skew | 0 | No inventory position |

**Result:** Classic two-sided MM. Symmetric curves concentrated near the spread. Optimal for low-volatility, mean-reverting markets.

---

### Example 2: Opportunistic Inventory Reduction

*"I'm long 500 SOL and want to sell on up-moves, not panic at current prices."*

| Parameter | Value | Reasoning |
|-----------|-------|-----------|
| Spread | 25 bps | Stay competitive |
| Range | 8% | Moderate coverage |
| Gamma | +1.5 | Back-loaded — sell into strength |
| Skew | -0.4 | Long position, favor asks |

**Result:** Ask side has 40% more depth and gamma of 2.1 (more back-loaded), bid has gamma 0.9 (closer to uniform). You're positioned to sell if price rallies while maintaining a passive bid. This is an *opportunistic* strategy — you're not desperate to exit.

---

### Example 2b: Defensive Inventory Reduction

*"I'm long 500 SOL and need to reduce exposure quickly."*

| Parameter | Value | Reasoning |
|-----------|-------|-----------|
| Spread | 20 bps | Tighter to attract flow |
| Range | 5% | Focused near current price |
| Gamma | -1.5 | Front-loaded — sell at current prices |
| Skew | -0.4 | Long position, favor asks |

**Result:** Ask side has 40% more depth and gamma of -2.1 (heavily front-loaded near spread), bid has gamma -0.9 (less concentrated). You'll get filled quickly on your asks at prices near the current level. This is a *defensive* strategy — you want out.

---

### Example 3: Volatility Spike

*"News just dropped. I expect big moves and want to avoid getting chopped up."*

| Parameter | Value | Reasoning |
|-----------|-------|-----------|
| Spread | 100 bps | Wide spread for protection |
| Range | 20% | Extended range for big moves |
| Gamma | +3.0 | Back-load heavily — only trade on real moves |
| Skew | 0 | Stay neutral until direction is clear |

**Result:** Most liquidity at range edges. You'll barely fill on small oscillations but capture significant moves.

---

### Example 4: Tight Scalping

*"It's a quiet Sunday. Price is barely moving. I want every tick."*

| Parameter | Value | Reasoning |
|-----------|-------|-----------|
| Spread | 10 bps | Ultra-tight to win flow |
| Range | 2% | Narrow — will reposition if needed |
| Gamma | -2.5 | Heavily front-loaded |
| Skew | 0 | Neutral |

**Result:** Almost all liquidity crammed right at the spread edges. Maximum fill rate, but high adverse selection risk if volatility picks up.

---

### Example 5: Passive Yield Farming

*"I just want to earn fees on my holdings without active management."*

| Parameter | Value | Reasoning |
|-----------|-------|-----------|
| Spread | 50 bps | Comfortable margin |
| Range | 50% | Maximum coverage |
| Gamma | 0 | Uniform — no view |
| Skew | 0 | Neutral |

**Result:** Set-and-forget position. Wide coverage means you stay in range through most moves. Lower capital efficiency but minimal maintenance.

---

## From Playground to Code

### High-Level SDK (MM-Friendly)

```typescript
// The SDK computes per-side parameters from your MM inputs
const orders = await market.placeMMOrders({
  midPrice: 150_000_000n,     // $150 reference
  spreadBps: 30,              // 30 bps each side
  rangeWidth: 0.05,           // 5% range beyond spread
  gamma: 1.5,                 // Base curve shape (positive = back-loaded)
  skew: -0.3,                 // Long position, favor asks
  maxBase: 10_000_000_000n,   // 10 SOL total
  maxQuote: 1_500_000_000n,   // 1500 USDC total
});

// This creates TWO orders:
// BID: gamma = 1.5 × (1 + -0.3) = 1.05, depth = 70% of base
// ASK: gamma = 1.5 × (1 - -0.3) = 1.95, depth = 130% of base
// Note: asks are MORE back-loaded (sell into rallies), not front-loaded
```

### Low-Level SDK (Direct Control)

```typescript
// Or place orders directly with raw parameters
const bidOrder = await market.placeClmmPosition({
  pMin: 142_500_000n,         // $142.50
  pMax: 149_550_000n,         // $149.55 (spread edge)
  exponent: 1050,             // 1.05 × 1000 (dampened)
  maxBase: 7_000_000_000n,    // 7 SOL (70% of 10)
  maxQuote: 0n,
  side: 'bid',
});

const askOrder = await market.placeClmmPosition({
  pMin: 150_450_000n,         // $150.45 (spread edge)
  pMax: 157_500_000n,         // $157.50
  exponent: 1950,             // 1.95 × 1000 (amplified)
  maxBase: 13_000_000_000n,   // 13 SOL (130% of 10)
  maxQuote: 0n,
  side: 'ask',
});
```

---

## On-Chain Parameter Reference

| Parameter | Type | Scale | Description |
|-----------|------|-------|-------------|
| `p_min` | `u64` | Native | Lower price bound |
| `p_max` | `u64` | Native | Upper price bound |
| `exponent` | `i32` | ×1000 | Gamma/curve shape (-5000 to +5000) |
| `amount` | `u64` | Native | Liquidity amount |

<Note>
The `exponent` parameter is signed and scaled by 1000. So gamma -2.5 becomes -2500 on-chain, and gamma +1.5 becomes +1500.
</Note>

---

## Tips for Market Makers

<CardGroup cols={2}>
  <Card title="Start Neutral" icon="scale-balanced">
    Begin with skew=0 and adjust incrementally based on inventory. Over-correcting causes oscillation.
  </Card>
  <Card title="Widen in Volatility" icon="chart-line">
    When volatility spikes, increase spread first, then range. Protect against adverse selection before worrying about fill rate.
  </Card>
  <Card title="Match Gamma to Conditions" icon="sliders">
    Low vol → negative gamma (capture frequent small moves). High vol → positive gamma (only trade significant moves).
  </Card>
  <Card title="Size to Survive" icon="shield">
    Your depth should let you survive a 3-sigma move without liquidation. Better to be small and survive than big and blown up.
  </Card>
  <Card title="Gamma + Skew Strategy" icon="diagram-project">
    Skew amplifies your gamma choice. Negative gamma + skew = defensive (exit fast). Positive gamma + skew = opportunistic (exit into favorable moves).
  </Card>
  <Card title="Depth Drives Fill Rate" icon="layer-group">
    When reducing inventory, depth matters more than gamma shape. More size at any shape means more fills.
  </Card>
</CardGroup>

---

## Common Mistakes

| Mistake | Why It Hurts | Fix |
|---------|--------------|-----|
| Spread too tight in volatile markets | Get picked off by informed flow | Widen spread when vol increases |
| Negative gamma in trending markets | Repeated wrong-side fills | Use zero or positive gamma |
| Over-skewing | Whipsaw as inventory oscillates | Adjust skew gradually (±0.1 increments) |
| Range too narrow without monitoring | Go out of range, stop earning | Either widen range or automate repositioning |
| Ignoring correlation | Position amplifies other exposures | Consider portfolio-level risk |
| Wrong gamma for exit strategy | Positive gamma + skew won't fill fast | Use negative gamma if you need to exit quickly |

---

## Next Steps

<CardGroup cols={2}>
  <Card title="CLMM Orders" icon="water" href="/orders/clmm-orders">
    Deep dive into concentrated liquidity mechanics
  </Card>
  <Card title="Order Types" icon="list" href="/concepts/order-types">
    Compare Limit, CLMM, and PropAMM strategies
  </Card>
</CardGroup>
