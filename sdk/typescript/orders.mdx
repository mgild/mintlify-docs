---
title: Orders
description: 'Place and cancel orders'
---

# Order Operations

## Place a Limit Order

```typescript
// Place a bid (buy order)
const ix = await market.placeLimitOrder({
  side: 'bid',
  pMin: 95_000_000n,        // Lower price bound
  pMax: 100_000_000n,       // Upper price bound
  amount: 1_000_000_000n,   // USDC to spend
  // mode defaults to 'standard'
  owner: wallet,
});

// Place an ask (sell order) with post-only mode
const ix = await market.placeLimitOrder({
  side: 'ask',
  pMin: 100_000_000n,       // Lower price bound
  pMax: 105_000_000n,       // Upper price bound
  amount: 10_000_000n,      // SOL to sell
  mode: 'postOnly',         // Reject if would cross
  owner: wallet,
});
```

## Place a CLMM Position

```typescript
const ixs = await market.placeClmmPosition({
  pMin: 95_000_000n,        // Lower price bound
  pMax: 105_000_000n,       // Upper price bound
  maxBase: 10_000_000n,     // Max base token to deposit
  maxQuote: 1_000_000_000n, // Max quote token to deposit
  // exponent defaults to 0 (uniform)
  owner: wallet,
});
// ixs is an array of instructions - build into transaction to send
```

<Note>
The protocol determines which tokens to deposit based on where your range sits relative to current price. When filled, liquidity automatically flips to the other side.
</Note>

## Place a PropAMM Order

```typescript
const ixs = await market.placePropOrder({
  pMin: 148_000_000n,
  pMax: 152_000_000n,
  maxBase: 5_000_000_000n,
  maxQuote: 750_000_000_000n,
  bidExponent: 0,
  askExponent: 0,
  sequenceNumber: 1,
  owner: wallet,
});
```

## Cancel a Limit Order

```typescript
const ix = await market.cancelLimitOrder({
  orderId: 42,
  owner: wallet,
});

// Add ix to a transaction and send
```

## Cancel a CLMM Position

```typescript
const ixs = await market.cancelClmmPosition({
  orderId: 42,
  owner: wallet,
});

// Both bid and ask sides are cancelled together
// ixs contains instructions for cancelling both sides
```

## Order Parameters

### LimitOrderParams

| Parameter | Type | Description |
|-----------|------|-------------|
| `side` | `'bid' \| 'ask'` | Order side: 'bid' (buy base) or 'ask' (sell base) |
| `pMin` | `bigint` | Lower price bound |
| `pMax` | `bigint` | Upper price bound |
| `amount` | `bigint` | Order amount (quote tokens for bids, base tokens for asks) |
| `mode` | `'standard' \| 'postOnly' \| 'ioc'` | Execution mode. Defaults to 'standard' |
| `exponent` | `number?` | Density curve (0=uniform, 1=linear, 2+=concentrated). Defaults to 0 |
| `owner` | `TransactionSigner` | Order owner (signer) |

**Execution modes:**
- `standard`: Cross if possible, rest remainder on book (default)
- `postOnly`: Reject if order would cross the spread (maker-only)
- `ioc`: Fill immediately, cancel any unfilled remainder

### ClmmPositionParams

| Parameter | Type | Description |
|-----------|------|-------------|
| `pMin` | `bigint` | Lower price bound |
| `pMax` | `bigint` | Upper price bound |
| `maxBase` | `bigint` | Maximum base token (token A) to deposit |
| `maxQuote` | `bigint` | Maximum quote token (token B) to deposit |
| `exponent` | `number?` | Density curve (0=uniform, 1=linear, 2+=concentrated). Defaults to 0 |
| `owner` | `TransactionSigner` | Position owner (signer) |

### PropOrderParams

| Parameter | Type | Description |
|-----------|------|-------------|
| `pMin` | `bigint` | Lower price bound |
| `pMax` | `bigint` | Upper price bound |
| `maxBase` | `bigint` | Maximum base token (token A) to deposit |
| `maxQuote` | `bigint` | Maximum quote token (token B) to deposit |
| `bidExponent` | `number?` | Bid side density curve. Defaults to 0 |
| `askExponent` | `number?` | Ask side density curve. Defaults to 0 |
| `sequenceNumber` | `number` | Deduplication sequence number |
| `owner` | `TransactionSigner` | Position owner (signer) |
